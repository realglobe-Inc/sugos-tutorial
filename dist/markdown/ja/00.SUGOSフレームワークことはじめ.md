# 【SUGOS】チュートリアル001: SUGOSフレームワークことはじめ 


## これはなんですか

[SUGOS][sugos_url]とは

+ RPC(Remote Procedure Call)フレームワーク
+ モジュール定義を動的に共有することで、ネットワーク透過的な関数呼び出しを実現する
+ 主にNode.jsで実装されている
+ [株式会社リアルグローブ][rg_url]が開発


## できること

SUGOSを使うと、あるクライアント上で定義したモジュールを、他のクライアントから使えるようになります。

<img src="../../images/sugos-overview.png"
     alt="Overview"
/>


例えば、宣言側クライアント（Actor) に置いて

+ メソッドを持つモジュールを宣言 ( `tableTennis#ping` )
+ クライアント名(key)を宣言し、hubサーバに接続 ( `my-actor-01@example.sugo-hub.com` )

```javascript
'use strict'

const co = require('co')
const sugoActor = require('sugo-actor')
const { Module } = sugoActor

co(function * () {
  // Define a module with methods
  let tableTennis = new Module({
    ping (pong = 'default pong!') {
      return co(function * () {
        /* ... */
        return `"${pong}" from actor!`
      })
    },
    /* ... */
  })

  // Create an actor client instance
  let actor = sugoActor({
    host: 'example.sugo-hub.com',
    key: 'my-actor-01',
    modules: { tableTennis }
  })

  // Connect to hub server
  yield actor.connect()
}).catch((err) => console.error(err))

```

を行なうと、呼び出し側クライアント (Caller)から先に宣言したActor上のモジュールに

```javascript
'use strict'

const sugoCaller = require('sugo-caller')
const co = require('co')

co(function * () {
  let caller = sugoCaller({
    host: 'example.sugo-hub.com'
  })
  // Connect to an actor with key
  let actor01 = yield caller.connect('my-actor-01')

  // Using call-return function
  {
    let tableTennis = actor01.get('tableTennis')
    let pong = yield tableTennis.ping('hey!')
    console.log(pong) // -> `"hey!" from call!`
  }
}).catch((err) => console.error(err))

```